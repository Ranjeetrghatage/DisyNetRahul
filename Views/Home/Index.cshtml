@model DisynetSoftware.Models.DisynetDataModel

<form asp-action="Submit" method="post">
<form asp-action="Edit" method="post">
    <!-- Serial Number Input -->
    <label for="serialNumber">Serial Number:</label>
    <input type="text" id="serialNumber" name="serialNumber" required />

    <!-- Auto-filled Fields -->
    <label for="objectType">Object Type:</label>
    <input type="text" id="objectType" name="ObjectType" readonly />

    <label for="objectName">Object Name:</label>
    <input type="text" id="objectName" name="ObjectName" readonly />

    <label for="errorDescription">Error Description:</label>
    <input type="text" id="errorDescription" name="ErrorDescription" readonly />

    <label for="modelNo">Model Number:</label>
    <input type="text" id="modelNo" name="ModelNo" readonly />

    <label for="capacity">Capacity:</label>
    <input type="text" id="capacity" name="Capacity" readonly />

    <label for="inputResistance">Input Resistance:</label>
    <input type="text" id="inputResistance" name="InputResistance" readonly />

    <label for="outputResistance">Output Resistance:</label>
    <input type="text" id="outputResistance" name="OutputResistance" readonly />

    <label for="excitationVoltage">Excitation Voltage:</label>
    <input type="text" id="excitationVoltage" name="ExcitationVoltage" readonly />

    <label for="initialUnbalance">Initial Unbalance:</label>
    <input type="text" id="initialUnbalance" name="InitialUnbalance" readonly />

    <!-- E Fields -->
    @for (int i = 1; i <= 11; i++)
    {
        <label for="e@i">E@i:</label>
        <input type="text" id="e@i" name="E@i" readonly />
    }

    <!-- X Fields -->
    @for (int i = 1; i <= 11; i++)
    {
        <label for="x@i">X@i:</label>
        <input type="text" id="x@i" name="X@i" readonly />
    }

    <!-- Y Fields -->
    @for (int i = 1; i <= 11; i++)
    {
        <label for="y@i">Y@i:</label>
        <input type="text" id="y@i" name="Y@i" readonly />
    }

    <label for="remark">Remark:</label>
    <textarea id="remark" name="Remark" readonly></textarea>

    <label for="jobOrder">Job Order:</label>
    <input type="text" id="jobOrder" name="JobOrder" readonly />

    <label for="customer">Customer:</label>
    <input type="text" id="customer" name="Customer" readonly />

    <label for="verifiedBy">Verified By:</label>
    <input type="text" id="verifiedBy" name="VerifiedBy" readonly />

    <label for="testedBy">Tested By:</label>
    <input type="text" id="testedBy" name="TestedBy" readonly />

    <label for="division">Division:</label>
    <input type="text" id="division" name="Division" readonly />

    <label for="tempDrift">Temp Drift:</label>
    <input type="text" id="tempDrift" name="TempDrift" readonly />

    <label for="xiAvg">Xi Avg:</label>
    <input type="text" id="xiAvg" name="XiAvg" readonly />

    <label for="yiAvg">Yi Avg:</label>
    <input type="text" id="yiAvg" name="YiAvg" readonly />

    <label for="realError">Real Error:</label>
    <input type="text" id="realError" name="RealError" readonly />

    <label for="date">Date:</label>
    <input type="date" id="date" name="Date" readonly />

    <label for="time">Time:</label>
    <input type="time" id="time" name="Time" readonly />

    <label for="blankNo">Blank No:</label>
    <input type="text" id="blankNo" name="BlankNo" readonly />

    <label for="tonnes">Tonnes:</label>
    <input type="text" id="tonnes" name="Tonnes" readonly />

    <label for="sensorRange">Sensor Range:</label>
    <input type="text" id="sensorRange" name="SensorRange" readonly />

    <button type="submit">Submit</button>
   
</form>
</form>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    document.getElementById('serialNumber').addEventListener('input', (e) => {
        SearchData(e.target.value);
    });

    function SearchData(searchinput) {
        $.ajax({
            url: "/EntryDetails/OnTextChanged",
            type: "Post",
            dataType: 'json',
            data: { SearchText: searchinput },
            success: function (result) {
                if (result === null) {
                    alert("No data found for the provided serial number.");
                    return;
                }
                // Populate the fields with the updated data:
                $('#serialNumber').val(result.serialNumber || "N/A");
                $('#modelNumber').val(result.modelNo || "N/A");
                // Continue for other fields...
            },
            error: function (xhr, status, error) {
                alert("Error occurred while fetching data.");
            }
        });
    }
</script>

  

